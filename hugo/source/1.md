# 项目初始化

## 第一次提交

添加README.md 说明hugo是一个spf13钟爱的静态站点生成器,
特点是高效/灵活

## 第二次提交

搭建了一个可运行的基本架子出来

- 添加license
- 添加基本运行的架子
- 添加附加说明文档

源码阅读:
- main.go 可执行:
    - 处理配置Config, 实际是用hugolib工具去实现,下面几个方法也是
    - 利用Config构造Site对象
    - 依次调用Site.Build 和 Site.Stats
- hugolib工具库:
    - config.go 读取配置文件,将配置存在一个Config结构体中
    - hugo会根据配置,创建一个站点, 用Site对象表示, 站点生成之后还可以进行运行
    - site.go 主要描述的是Site对象,这个对象包含了站点相关的所有元素
    - 分析Site.Build:
        - Site.Process
            - Site.initialize
                - 查看layout和source目录是否存在;查看publish目录是否创建
                - 遍历source下的文件, 把文件和目录都保存在Site的map中
                - 初始化Site里的部分元素
            - Site.prepTemplates
                - 创建一个新的template对象, 名字为"",这个对象用于处理html, 函数表中添加函数
                - 遍历layout下的文件, 对于每一个文件,依据文件名创建一个template对象,解析layout文件
                - 新建的模板对象都挂在名字为""的模板对象下,意味着: ""模板中可以引用layout下的所有模板
            - Site.CreatePages
                - 之前遍历source,数据放在Site.Files map中,遍历,为每个文件创建一个Page对象
                - Site.Pages 的类型是[]*Page, 具体的Page创建和排序,放在page.go中去分析
                - 在看下一个函数之前,需要先了解page.go中的创建/排序/获取参数
                - 这个函数会创建一个page对象,并添加到site对象中
            - Site.BuildSiteMeta
                - Site中存着两个map,一个是string-Pages,一个是string-Index
                - 更多的是将索引和分类排序了一下
        - Site.Render
            - Site.RenderIndexes
            - Site.RenderLists
            - Site.RenderPages
            - Site.ProcessShortcodes
            - Site.RenderHomePage
        - Site.Write
            - Site.WritePages
    - 分析Site.Stats
    - page.go 分析
        - NewPage 创建一个page对象
            - initializePage 用文件初始化一个page对象, 文件目录也有讲究,非content目录下的文件要特殊处理
            - buildPageFromFile 解析文件头,有两种文件头
                - json格式: 读取第一个{}, 读取头信息
                - md格式: 读取两个---之间的数据, 解析
                - 除了解析文件头,还做了两件事:设置输出文件名/将文件内容md,转换成page对象的内容
            - analyzePage 统计md中还多少字,几百字






